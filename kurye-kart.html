<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurye Kartı - Kuryes.com</title>
    <meta name="description" content="Kurye profil kartınızı düzenleyin ve güncelleyin.">
    
    <!-- OpenGraph -->
    <meta property="og:title" content="Kurye Kartı - Kuryes.com">
    <meta property="og:description" content="Kurye profil kartınızı düzenleyin ve güncelleyin.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kuryes.com/kurye-kart.html">
    <meta property="og:image" content="/img/og-image.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="public/favicon/kuryesfavicon.png">
    <link rel="icon" type="image/png" sizes="64x64" href="public/favicon/kuryesfavicon.png">
    <link rel="icon" type="image/png" sizes="128x128" href="public/favicon/kuryesfavicon.png">
    <link rel="icon" type="image/png" sizes="256x256" href="public/favicon/kuryesfavicon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="public/favicon/kuryesfavicon.png">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#FF3131">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Kuryes">
    <meta name="mobile-web-app-capable" content="yes">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    
    
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/styles-tailwind.css">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body class="bg-bg text-text font-inter">
    <!-- Header -->
    <header class="bg-white/80 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <a href="index.html" class="flex items-center">
                        <img src="public/img/kuryes.svg" 
                             srcset="public/img/kuryes.svg, public/img/kuryes.png" 
                             alt="KURYΕS.com" 
                             class="h-12 md:h-14 w-auto"
                             onerror="this.onerror=null; this.src='public/img/kuryes.png';">
                    </a>
                </div>
                
                <!-- Navigation -->
                <nav class="hidden md:flex space-x-8">
                    <a href="yakinda.html" class="text-text hover:text-primary transition-colors">Yakında</a>
                    <a href="kurye-rehberi.html" class="text-text hover:text-primary transition-colors">Kurye Rehberi</a>
                    <a href="ilanlar.html" class="text-text hover:text-primary transition-colors">İş İlanları</a>
                    <a href="forum.html" class="text-text hover:text-primary transition-colors">Forum</a>
                    <a href="kazanc.html" class="text-text hover:text-primary transition-colors">Kazanç</a>
                </nav>
                
                <!-- User Menu -->
                <div class="hidden md:flex items-center space-x-4">
                    <a href="kurye-kart.html?id=1" class="text-text hover:text-primary transition-colors font-medium">Profilim</a>
                    <button class="text-muted hover:text-text transition-colors">Çıkış Yap</button>
                </div>
                
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobileMenuBtn" class="text-text hover:text-primary transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Mobile Menu -->
        <div id="mobileMenu" class="md:hidden bg-white/95 backdrop-blur-md border-t border-gray-200 hidden">
            <div class="px-4 py-2 space-y-2">
                <a href="yakinda.html" class="block py-2 text-text hover:text-primary">Yakında</a>
                <a href="kurye-rehberi.html" class="block py-2 text-text hover:text-primary">Kurye Rehberi</a>
                <a href="ilanlar.html" class="block py-2 text-text hover:text-primary">İş İlanları</a>
                <a href="forum.html" class="block py-2 text-text hover:text-primary">Forum</a>
                <a href="kazanc.html" class="block py-2 text-text hover:text-primary">Kazanç</a>
                <div class="pt-2 border-t border-gray-200">
                    <a href="kurye-kart.html?id=1" class="block py-2 text-text font-medium">Profilim</a>
                    <button class="block w-full text-left py-2 text-muted">Çıkış Yap</button>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Launch Banner -->
    <div class="bg-gradient-to-r from-primary to-accent text-white text-center py-2">
        <p class="text-sm font-medium">🚀 Lansman: Aralık 2025 Antalya — 2026 Tüm Türkiye</p>
    </div>
    
    <!-- Main Content -->
    <section class="py-16">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                
                <!-- Left Sidebar - Profile Card -->
                <div class="lg:col-span-1">
                    <div class="bg-white rounded-xl shadow-lg p-6 sticky top-24">
                        <!-- Avatar -->
                        <div class="text-center mb-6">
                            <div class="relative inline-block">
                                <img id="profileAvatar" 
                                     src="public/img/avatars/1.png" 
                                     alt="Avatar" 
                                     class="w-32 h-32 rounded-full mx-auto border-4 border-primary object-cover cursor-pointer hover:opacity-80 transition-opacity"
                                     onclick="document.getElementById('avatarModal').classList.remove('hidden')">
                                <button type="button" 
                                        onclick="document.getElementById('avatarModal').classList.remove('hidden')"
                                        class="absolute bottom-0 right-0 bg-primary text-white rounded-full p-2 cursor-pointer hover:bg-red-600 transition-colors">
                                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path>
                                    </svg>
                                </button>
                                <input type="hidden" id="selectedAvatar" name="avatar" value="1">
                            </div>
                            <h2 id="profileName" class="text-2xl font-bold text-text mt-4">Ad Soyad</h2>
                            <p id="profileCity" class="text-muted">Şehir</p>
                        </div>
                        
                        <!-- Profile Stats -->
                        <div class="space-y-3 mb-6">
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-sm text-muted">Kurye ID</span>
                                <span id="kuryeId" class="text-sm font-semibold text-primary">#ID</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-sm text-muted">Ehliyet</span>
                                <span id="profileEhliyet" class="text-sm font-semibold text-text">-</span>
                            </div>
                            <div class="flex justify-between items-center p-3 bg-gray-50 rounded-lg">
                                <span class="text-sm text-muted">Motor</span>
                                <span id="profileMotor" class="text-sm font-semibold text-text">-</span>
                            </div>
                            <!-- Telefon (görünürlük kontrolü ile) -->
                            <div id="profileTelefonContainer" class="hidden flex justify-between items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" data-register-btn>
                                <span class="text-sm text-muted">Telefon</span>
                                <span id="profileTelefon" class="text-sm font-semibold text-text">-</span>
                            </div>
                            <!-- WhatsApp (görünürlük kontrolü ile) -->
                            <div id="profileWhatsAppContainer" class="hidden flex justify-between items-center p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors" data-register-btn>
                                <span class="text-sm text-muted">WhatsApp</span>
                                <span id="profileWhatsApp" class="text-sm font-semibold text-text">-</span>
                            </div>
                            <!-- Acil Müsaitlik (checkbox kontrolü ile) -->
                            <div id="profileAcilMusaitlikContainer" class="hidden flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200">
                                <span class="text-sm text-muted">🚨 Acil Durum</span>
                                <span class="text-sm font-semibold text-red-600">Müsait</span>
                            </div>
                        </div>
                        
                        <!-- QR Code -->
                        <div class="text-center p-4 bg-gray-50 rounded-lg mb-6">
                            <p class="text-xs text-muted mb-2">Profil Kartınız</p>
                            <div id="qrCode" class="w-32 h-32 mx-auto bg-white p-2 rounded-lg">
                                <!-- QR kod buraya eklenecek -->
                                <div class="w-full h-full bg-gray-200 rounded flex items-center justify-center">
                                    <span class="text-xs text-muted">QR Kod</span>
                                </div>
                            </div>
                            <button id="shareProfile" class="mt-3 text-xs text-primary hover:text-red-600 transition-colors">
                                Profilimi Paylaş
                            </button>
                        </div>
                        
                        <!-- Deneyimler (Sol Sidebar'da Liste) -->
                        <div class="border-t border-gray-200 pt-6 mb-6">
                            <h3 class="text-lg font-semibold text-text mb-4">Deneyimler</h3>
                            <div id="sidebarDeneyimListesi" class="space-y-2 text-sm">
                                <p class="text-muted text-xs">Deneyim yok</p>
                            </div>
                        </div>
                        
                        <!-- Action Buttons -->
                        <div class="space-y-2">
                            <a id="viewPublicProfile" 
                               href="#" 
                               target="_blank"
                               class="w-full border-2 border-accent text-accent py-3 rounded-lg font-semibold hover:bg-accent hover:text-white transition-colors flex items-center justify-center">
                                <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"></path>
                                </svg>
                                Halka Açık Profili Görüntüle
                            </a>
                        </div>
                    </div>
                </div>
                
    <!-- Main Content - Kart Özeti -->
                <div class="lg:col-span-2">
                    <div class="bg-white rounded-xl shadow-lg p-8 space-y-8">
                        <div class="flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6">
                            <div>
                                <h1 class="text-3xl font-bold font-poppins text-text">Kurye Kartınız</h1>
                                <p class="mt-3 text-muted leading-relaxed">
                                    Kurye kartı, işletmelerin sizi tanıdığı vitrindir. Ehliyetleriniz, deneyimleriniz, motor durumunuz
                                    ve çalışma düzeniniz burada görünür ve ilan önizlemesinde de kullanılır.
                                </p>
                            </div>
                            <div class="bg-primary/5 border border-primary/20 rounded-2xl px-6 py-4 max-w-xs">
                                <p class="text-sm font-semibold text-primary uppercase tracking-wide mb-1">Neden Önemli?</p>
                                <p class="text-sm text-text">
                                    Güncel bilgiler daha fazla çağrı almanızı sağlar, acil müsaitlik durumlarında da aynı veriler kullanılır.
                                </p>
                            </div>
                        </div>

                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="p-6 rounded-2xl border border-gray-200 bg-gray-50">
                                <h2 class="text-lg font-semibold text-text mb-3">Kartta Neler Var?</h2>
                                <ul class="space-y-2 text-sm text-muted">
                                    <li class="flex items-start gap-2"><span class="mt-1 text-primary">•</span> Kişisel ve iletişim bilgileri</li>
                                    <li class="flex items-start gap-2"><span class="mt-1 text-primary">•</span> Ehliyet, motor ve belgeler</li>
                                    <li class="flex items-start gap-2"><span class="mt-1 text-primary">•</span> Deneyimler ve çalışma saatleri</li>
                                    <li class="flex items-start gap-2"><span class="mt-1 text-primary">•</span> Acil müsaitlik tercihleri</li>
                                </ul>
                            </div>
                            <div class="p-6 rounded-2xl border border-gray-200">
                                <h2 class="text-lg font-semibold text-text mb-3">Nasıl Çalışır?</h2>
                                <ol class="space-y-3 text-sm text-muted list-decimal list-inside">
                                    <li>Kartınızı inceleyip bilgilerinizi gözden geçirin.</li>
                                    <li><span class="font-medium text-text">Düzenle</span> butonuna tıklayarak tüm ayarları açın.</li>
                                    <li>Alanları güncelleyin, isteğe bağlı ayarları açıp kapatın.</li>
                                    <li>Kaydettiğinizde kart önizlemesi ve profiliniz otomatik güncellenir.</li>
                                </ol>
                            </div>
                        </div>

                        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4">
                            <div class="text-sm text-muted">
                                <p class="font-medium text-text">Düzenleme sonrası bilgileriniz otomatik kaydedilir.</p>
                                <p>Önizleme ve işletmelere görünen kart aynı verileri kullanır.</p>
                            </div>
                            <div class="flex gap-3 w-full sm:w-auto">
                                <button id="openKuryeEditorBtn"
                                        class="flex-1 sm:flex-none inline-flex items-center justify-center px-6 py-3 bg-primary text-white rounded-lg font-semibold shadow-md hover:bg-red-600 transition-colors">
                                    Düzenle
                                </button>
                                <button id="openKuryePreviewBtn"
                                        class="flex-1 sm:flex-none inline-flex items-center justify-center px-6 py-3 bg-accent text-white rounded-lg font-semibold shadow-md hover:bg-blue-600 transition-colors">
                                    İlanı Yayınla
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Main Content - Edit Form -->
                <div class="lg:col-span-2 hidden" id="kuryeEditorFormContainer">
                    <div class="bg-white rounded-xl shadow-lg p-8">
                        <div class="flex items-center justify-between mb-6">
                            <h1 class="text-3xl font-bold font-poppins text-text">Kurye Kartı Düzenle</h1>
                            <span class="px-3 py-1 bg-accent/10 text-accent rounded-full text-sm font-semibold">
                                Düzenleme Modu
                            </span>
                        </div>
                        
                        <form id="kuryeKartForm" method="POST" onsubmit="return false;" class="space-y-6">
                            <!-- Honeypot -->
                            <input type="text" name="_gotcha" style="display:none">
                            
                            <!-- Kişisel Bilgiler -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="kisisel-bilgiler">
                                <h3 class="text-xl font-semibold text-text mb-4">Kişisel Bilgiler</h3>
                                
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                    <!-- Ad Soyad -->
                                    <div>
                                        <label for="adSoyad" class="block text-sm font-medium text-text mb-2">
                                            Ad Soyad *
                                        </label>
                                        <input type="text" id="adSoyad" name="adSoyad" required
                                               placeholder="Adınız Soyadınız"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    
                                    <!-- Telefon -->
                                    <div>
                                        <label for="telefon" class="block text-sm font-medium text-text mb-2">
                                            Telefon *
                                        </label>
                                        <input type="tel" id="telefon" name="telefon" required
                                               placeholder="5XX XXX XX XX"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        <label class="flex items-center mt-2 cursor-pointer">
                                            <input type="checkbox" id="telefonGorunur" name="telefonGorunur" value="1" class="mr-2 w-4 h-4">
                                            <span class="text-xs text-muted">İşletme telefonumdan ulaşabilir</span>
                                        </label>
                                    </div>
                                    
                                    <!-- E-posta -->
                                    <div>
                                        <label for="email" class="block text-sm font-medium text-text mb-2">
                                            E - Posta *
                                        </label>
                                        <input type="email" id="email" name="email" required
                                               placeholder="ornek@eposta.com"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    
                                    <!-- Şehir -->
                                    <div>
                                        <label for="sehir" class="block text-sm font-medium text-text mb-2">
                                            Şehir *
                                        </label>
                                        <select id="sehir" name="sehir" required
                                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            <option value="">Şehir seçin</option>
                                            <option value="Antalya">Antalya</option>
                                            <option value="İstanbul">İstanbul</option>
                                            <option value="Ankara">Ankara</option>
                                            <option value="İzmir">İzmir</option>
                                            <option value="Eskişehir">Eskişehir</option>
                                            <option value="Isparta">Isparta</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Kurye Bilgileri -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="kurye-bilgileri">
                                <h3 class="text-xl font-semibold text-text mb-4">Kurye Bilgileri</h3>
                                
                                <!-- Ehliyet Checkboxes -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-text mb-3">
                                        Ehliyet *
                                    </label>
                                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                        <label class="flex items-center">
                                            <input type="checkbox" name="ehliyet" value="B" class="mr-2 w-4 h-4">
                                            <span class="text-sm">B</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" name="ehliyet" value="A" class="mr-2 w-4 h-4">
                                            <span class="text-sm">A</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" name="ehliyet" value="A1" class="mr-2 w-4 h-4">
                                            <span class="text-sm">A1</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" name="ehliyet" value="A2" class="mr-2 w-4 h-4">
                                            <span class="text-sm">A2</span>
                                        </label>
                                    </div>
                                </div>
                                
                                <!-- Motor Var mı? -->
                                <div class="mb-6">
                                    <label class="block text-sm font-medium text-text mb-3">
                                        Motorun var mı? *
                                    </label>
                                    <div class="flex gap-6">
                                        <label class="flex items-center">
                                            <input type="radio" name="motorVarmi" value="evet" required class="mr-2">
                                            <span class="text-sm">Evet</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="radio" name="motorVarmi" value="hayir" required class="mr-2">
                                            <span class="text-sm">Hayır</span>
                                        </label>
                                    </div>
                                    
                                    <!-- Motor Detayları (Evet seçilirse gösterilir) -->
                                    <div id="motorDetaylari" class="hidden mt-4 grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <label for="motorMarka" class="block text-sm font-medium text-text mb-2">
                                                Marka
                                            </label>
                                            <input type="text" id="motorMarka" name="motorMarka"
                                                   placeholder="Örn. Yamaha"
                                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        </div>
                                        <div>
                                            <label for="motorModel" class="block text-sm font-medium text-text mb-2">
                                                Model
                                            </label>
                                            <input type="text" id="motorModel" name="motorModel"
                                                   placeholder="Örn. MT-07"
                                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        </div>
                                        <div>
                                            <label for="motorYil" class="block text-sm font-medium text-text mb-2">
                                                Yıl
                                            </label>
                                            <input type="number" id="motorYil" name="motorYil" min="1900" max="2025"
                                                   placeholder="Örn. 2024"
                                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        </div>
                                        <div>
                                            <label for="motorPlaka" class="block text-sm font-medium text-text mb-2">
                                                Plaka
                                            </label>
                                            <input type="text" id="motorPlaka" name="motorPlaka"
                                                   placeholder="Örn. 07 ABC 123"
                                                   class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            <label class="flex items-center mt-2 cursor-pointer">
                                                <input type="checkbox" id="plakaGorunur" name="plakaGorunur" value="1" class="mr-2 w-4 h-4">
                                                <span class="text-xs text-muted">İşletme plakamı görebilir</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Belgeler -->
                                <div>
                                    <label class="block text-sm font-medium text-text mb-3">
                                        Belgeler
                                    </label>
                                    <div class="space-y-2">
                                        <label class="flex items-center">
                                            <input type="checkbox" name="p1Belgesi" value="1" class="mr-2 w-4 h-4">
                                            <span class="text-sm">P1 Belgesi</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" name="srcBelgesi" value="1" class="mr-2 w-4 h-4">
                                            <span class="text-sm">SRC Belgesi</span>
                                        </label>
                                        <label class="flex items-center">
                                            <input type="checkbox" name="psikoteknik" value="1" class="mr-2 w-4 h-4">
                                            <span class="text-sm">Psikoteknik</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Deneyimler -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="deneyimler">
                                <h3 class="text-xl font-semibold text-text mb-4">Deneyimler</h3>
                                
                                <!-- Deneyim Listesi -->
                                <div id="deneyimListesi" class="space-y-3 mb-4">
                                    <!-- Dinamik olarak eklenecek -->
                                </div>
                                
                                <!-- Deneyim Ekle Butonu -->
                                <button type="button" id="deneyimEkleBtn" 
                                        class="w-full px-6 py-3 bg-primary text-white rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center justify-center">
                                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                    </svg>
                                    Deneyim Ekle
                                </button>
                            </div>
                            
                            <!-- Çalışma Modeli -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="calisma-modeli">
                                <h3 class="text-xl font-semibold text-text mb-4 flex items-center gap-2">
                                    Çalışma Modeli
                                    <span id="calismaModeliTik" class="hidden text-green-500">
                                        <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20">
                                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path>
                                        </svg>
                                    </span>
                                </h3>
                                
                                <div class="space-y-4">
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="calismaModeliEsnaf" name="calismaModeli" value="esnaf" class="mr-3 w-5 h-5">
                                            <span class="text-sm font-medium text-text">Esnaf Kurye</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label class="flex items-center">
                                            <input type="checkbox" id="calismaModeliSigortali" name="calismaModeli" value="sigortali" class="mr-3 w-5 h-5">
                                            <span class="text-sm font-medium text-text">Sigortalı</span>
                                        </label>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Acil Müsaitlik -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="acil-musaitlik">
                                <button type="button" class="flex items-center justify-between w-full text-left py-2" data-accordion-trigger>
                                    <span class="text-lg font-semibold text-text">Acil Müsaitlik</span>
                                    <svg class="w-5 h-5 text-muted transition-transform duration-200" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"></path>
                                    </svg>
                                </button>
                                <div class="accordion-content mt-4 space-y-6 hidden" data-accordion-content>
                                    <div class="mb-4">
                                        <label class="flex items-center">
                                            <input type="checkbox" id="acilMusaitlikCheck" name="acilMusaitlikCheck" value="1" class="mr-3 w-4 h-4">
                                            <span class="text-sm font-semibold text-primary">🚨 Acil Durumlarda Müsaitim</span>
                                        </label>
                                        <p class="text-xs text-muted mt-2 ml-7">Acil durumlarda çalışmaya hazır olduğunuzu belirtin.</p>
                                    </div>
                                
                                    <!-- Acil Müsaitlik içerik (checkbox işaretliyse gösterilir) -->
                                    <div id="acilMusaitlikContent" class="hidden mt-4 space-y-6">
                                    <!-- Ücret Beklentileri (Acil için) -->
                                    <div>
                                        <h4 class="text-lg font-semibold text-text mb-3">Ücret Beklentileri</h4>
                                        <div class="space-y-4">
                                            <!-- Saatlik Ücret -->
                                            <div class="flex items-start space-x-3">
                                                <input type="checkbox" id="acilMusaitlikSaatlikCheck" class="mt-1 w-4 h-4">
                                                <div class="flex-1">
                                                    <label for="acilMusaitlikSaatlikCheck" class="block text-sm font-medium text-text mb-2">
                                                        Minimum Saatlik Ücret
                                                    </label>
                                                    <input type="number" id="acilMusaitlikSaatlikUcret" name="acilMusaitlikSaatlikUcret" 
                                                           placeholder="TL/saat" 
                                                           disabled
                                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed">
                                                </div>
                                            </div>
                                            
                                            <!-- KM Ücreti -->
                                            <div class="flex items-start space-x-3">
                                                <input type="checkbox" id="acilMusaitlikKmCheck" class="mt-1 w-4 h-4">
                                                <div class="flex-1">
                                                    <label for="acilMusaitlikKmCheck" class="block text-sm font-medium text-text mb-2">
                                                        Minimum KM Ücreti
                                                    </label>
                                                    <input type="number" id="acilMusaitlikKmUcret" name="acilMusaitlikKmUcret" 
                                                           placeholder="TL/km" 
                                                           disabled
                                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed">
                                                </div>
                                            </div>
                                            
                                            <!-- Paket Başı Ücret -->
                                            <div class="flex items-start space-x-3">
                                                <input type="checkbox" id="acilMusaitlikPaketCheck" class="mt-1 w-4 h-4">
                                                <div class="flex-1">
                                                    <label for="acilMusaitlikPaketCheck" class="block text-sm font-medium text-text mb-2">
                                                        Minimum Paket Başı Ücret
                                                    </label>
                                                    <input type="number" id="acilMusaitlikPaketUcret" name="acilMusaitlikPaketUcret" 
                                                           placeholder="TL/paket" 
                                                           disabled
                                                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent disabled:bg-gray-100 disabled:cursor-not-allowed">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Çalışma Saatleri (Acil için) -->
                                    <div>
                                        <h4 class="text-lg font-semibold text-text mb-3">Çalışma Saatleri</h4>
                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                            <div>
                                                <label for="acilMusaitlikBaslangicSaati" class="block text-sm font-medium text-text mb-2">
                                                    Başlangıç Saati
                                                </label>
                                                <select id="acilMusaitlikBaslangicSaati" name="acilMusaitlikBaslangicSaati"
                                                        class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                                    <option value="simdi" selected>Şimdi</option>
                                                    <option value="00:00">00:00</option>
                                                    <option value="01:00">01:00</option>
                                                    <option value="02:00">02:00</option>
                                                    <option value="03:00">03:00</option>
                                                    <option value="04:00">04:00</option>
                                                    <option value="05:00">05:00</option>
                                                    <option value="06:00">06:00</option>
                                                    <option value="07:00">07:00</option>
                                                    <option value="08:00">08:00</option>
                                                    <option value="09:00">09:00</option>
                                                    <option value="10:00">10:00</option>
                                                    <option value="11:00">11:00</option>
                                                    <option value="12:00">12:00</option>
                                                    <option value="13:00">13:00</option>
                                                    <option value="14:00">14:00</option>
                                                    <option value="15:00">15:00</option>
                                                    <option value="16:00">16:00</option>
                                                    <option value="17:00">17:00</option>
                                                    <option value="18:00">18:00</option>
                                                    <option value="19:00">19:00</option>
                                                    <option value="20:00">20:00</option>
                                                    <option value="21:00">21:00</option>
                                                    <option value="22:00">22:00</option>
                                                    <option value="23:00">23:00</option>
                                                </select>
                                            </div>
                                            <div>
                                                <label for="acilMusaitlikCikisSaati" class="block text-sm font-medium text-text mb-2">
                                                    Çıkış Saati
                                                </label>
                                                <input type="time" id="acilMusaitlikCikisSaati" name="acilMusaitlikCikisSaati"
                                                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Otomatik Mesaj -->
                                    <div>
                                        <label for="acilMusaitlikOtomatikMesaj" class="block text-sm font-medium text-text mb-2">
                                            Otomatik Mesaj (Otomatik Doldurulur)
                                        </label>
                                        <textarea id="acilMusaitlikOtomatikMesaj" name="acilMusaitlikOtomatikMesaj" rows="3"
                                                  readonly
                                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-muted"></textarea>
                                    </div>
                                    
                                    <!-- Ek Bilgiler (70 karakter) -->
                                    <div>
                                        <label for="acilMusaitlikEkBilgiler" class="block text-sm font-medium text-text mb-2">
                                            Ek Bilgiler <span class="text-xs text-muted">(max 70 karakter)</span>
                                        </label>
                                        <textarea id="acilMusaitlikEkBilgiler" name="acilMusaitlikEkBilgiler" rows="2" maxlength="70"
                                                  placeholder="Ek bilgiler..."
                                                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"></textarea>
                                        <p class="text-xs text-muted mt-1"><span id="acilMusaitlikEkBilgilerCount">0</span>/70 karakter</p>
                                    </div>
                                </div>
                                </div>
                            </div>

                            <!-- Sosyal Medya -->
                            <div class="border-b border-gray-200 pb-6 accordion-section" data-accordion-item data-section-key="sosyal-medya">
                                <h3 class="text-xl font-semibold text-text mb-4">Sosyal Medya</h3>
                                <div class="space-y-6">
                                    <div>
                                        <label for="whatsapp" class="block text-sm font-medium text-text mb-2">
                                            WhatsApp
                                        </label>
                                        <input type="tel" id="whatsapp" name="whatsapp" 
                                               placeholder="5XX XXX XX XX"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                        <label class="flex items-center mt-2 cursor-pointer">
                                            <input type="checkbox" id="whatsappGorunur" name="whatsappGorunur" value="1" class="mr-2 w-4 h-4">
                                            <span class="text-xs text-muted">İşletme WhatsApp'tan ulaşabilir</span>
                                        </label>
                                    </div>
                                    <div>
                                        <label for="telegram" class="block text-sm font-medium text-text mb-2">
                                            Telegram
                                        </label>
                                        <input type="text" id="telegram" name="telegram"
                                               placeholder="@kullaniciadiniz"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                                    </div>
                                    <div>
                                        <label for="instagram" class="block text-sm font-medium text-text mb-2">
                                            Instagram
                                       </label>
                                        <input type="text" id="instagram" name="instagram"
                                               placeholder="@kullaniciadiniz"
                                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus-border-transparent">
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Kaydet Butonu -->
                            <div class="mt-6">
                                <button type="button" id="saveProfile" class="w-full bg-primary text-white py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors">
                                    Kaydet
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>
    
    <!-- Kurye Kartı Düzenleme Modal -->
    <div id="kuryeEditorModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden flex flex-col animate-fadeInUp">
            <div class="flex items-center justify-between px-6 py-4 border-b border-gray-100">
                <h2 class="text-2xl font-bold text-text">Kurye Kartı Ayarları</h2>
                <button type="button" id="kuryeEditorCloseBtn" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <div id="kuryeEditorModalBody" class="flex-1 overflow-y-auto px-6 py-6 space-y-6">
                <!-- Form içerik DOM yüklendiğinde buraya taşınır -->
            </div>
            <div class="flex flex-col sm:flex-row gap-3 px-6 py-4 border-t border-gray-100 bg-gray-50">
                <button type="button" id="kuryeEditorCancelBtn"
                        class="flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium">
                    İptal
                </button>
                <button type="button" id="kuryeEditorSaveBtn"
                        class="flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-red-600 transition-colors font-medium shadow-md hover:shadow-lg">
                    Kaydet
                </button>
            </div>
        </div>
    </div>
    
    <!-- Kurye Kartı Önizleme Modal -->
    <div id="kuryePreviewModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-3xl w-full p-8 animate-fadeInUp max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-text">Kurye Kartı Önizlemesi</h2>
                <button id="modalCloseBtn" 
                        class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="space-y-6">
                <!-- Kurye Kartı Önizlemesi -->
                <div class="bg-gray-50 rounded-lg p-6">
                    <div class="flex items-center mb-4">
                        <img id="previewAvatar" src="public/img/avatars/1.png" alt="Avatar" class="w-16 h-16 rounded-full mr-4">
                        <div>
                            <h3 class="text-xl font-bold text-text" id="previewAdSoyad">-</h3>
                            <p class="text-muted" id="previewSehir">-</p>
                        </div>
                    </div>
                    <div class="space-y-3 text-sm">
                        <div><span class="font-medium">Ehliyet:</span> <span id="previewEhliyet">-</span></div>
                        <div><span class="font-medium">Motor:</span> <span id="previewMotor">-</span></div>
                        <div><span class="font-medium">Belgeler:</span> <span id="previewBelgeler">-</span></div>
                        <div><span class="font-medium">Çalışma Modeli:</span> <span id="previewCalismaModeli">-</span></div>
                        <div><span class="font-medium">Deneyimler:</span> <span id="previewDeneyimler">-</span></div>
                        <div id="previewTelefonContainer" class="hidden">
                            <span class="font-medium">Telefon:</span> <span id="previewTelefon">-</span>
                        </div>
                        <div id="previewWhatsappContainer" class="hidden">
                            <span class="font-medium">WhatsApp:</span> <span id="previewWhatsApp">-</span>
                        </div>
                        <div id="previewTelegramContainer" class="hidden">
                            <span class="font-medium">Telegram:</span> <span id="previewTelegram">-</span>
                        </div>
                        <div id="previewInstagramContainer" class="hidden">
                            <span class="font-medium">Instagram:</span> <span id="previewInstagram">-</span>
                        </div>
                        <div id="previewAcilMusaitlikContainer" class="hidden">
                            <span class="font-medium">🚨 Acil Durum:</span> <span class="text-red-600 font-semibold">Müsait</span>
                        </div>
                    </div>
                </div>
                
                <!-- Modal Action Buttons -->
                <div class="flex gap-3 pt-4">
                    <button id="modalCancelBtn"
                            class="flex-1 px-4 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium">
                        İptal
                    </button>
                    <button id="confirmSaveBtn"
                            class="flex-1 px-4 py-3 bg-primary text-white rounded-lg hover:bg-red-600 transition-colors font-medium">
                        Onayla ve Yayınla
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="bg-text text-white py-8">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-4 md:mb-0">
                    <p class="text-sm">&copy; 2025 Kuryes &mdash; Altyapı: <a href="https://kaysia.co" class="text-accent hover:text-white">Kaysia.co</a></p>
                </div>
                <div class="flex flex-wrap gap-4 text-sm">
                    <a href="#" class="hover:text-accent transition-colors">KVKK</a>
                    <a href="#" class="hover:text-accent transition-colors">Gizlilik</a>
                    <a href="#" class="hover:text-accent transition-colors">Kullanım Şartları</a>
                    <a href="#" class="hover:text-accent transition-colors">İletişim</a>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- Deneyim Ekle Modal -->
    <div id="deneyimModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 animate-fadeInUp">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-text">Deneyim Ekle</h2>
                <button type="button" id="deneyimModalClose" class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <form id="deneyimForm" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div>
                        <label for="deneyimSirket" class="block text-sm font-medium text-text mb-2">
                            Şirket Adı *
                        </label>
                        <input type="text" id="deneyimSirket" required
                               placeholder="Örn. Hızlı Kurye"
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                    </div>
                    <div>
                        <label for="deneyimSure" class="block text-sm font-medium text-text mb-2">
                            Süre *
                        </label>
                        <select id="deneyimSure" required
                                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                            <option value="">Süre seçin</option>
                            <option value="0-6 ay">0-6 ay</option>
                            <option value="6-12 ay">6-12 ay</option>
                            <option value="1-2 yıl">1-2 yıl</option>
                            <option value="3+">3+</option>
                        </select>
                    </div>
                </div>
                <div>
                    <label for="deneyimGorev" class="block text-sm font-medium text-text mb-2">
                        Görev *
                    </label>
                    <input type="text" id="deneyimGorev" required
                           placeholder="Örn. Moto Kurye"
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent">
                </div>
                
                <div class="flex gap-3 pt-4">
                    <button type="button" id="deneyimModalCancel" class="flex-1 px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-medium">
                        İptal
                    </button>
                    <button type="submit" id="deneyimKaydet" class="flex-1 px-6 py-3 bg-primary text-white rounded-lg hover:bg-red-600 transition-colors font-medium shadow-md hover:shadow-lg">
                        Kaydet
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Avatar Seçim Modali -->
    <div id="avatarModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden flex items-center justify-center p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-2xl w-full p-8 animate-fadeInUp">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-2xl font-bold text-text">Avatar Seç</h2>
                <button onclick="document.getElementById('avatarModal').classList.add('hidden')" 
                        class="text-gray-400 hover:text-gray-600 transition-colors">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            
            <div class="grid grid-cols-4 gap-4 mb-6">
                <!-- Avatar seçenekleri -->
                <button type="button" 
                        data-avatar="1" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/1.png" alt="Avatar 1" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="2" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/2.png" alt="Avatar 2" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="3" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/3.png" alt="Avatar 3" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="4" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/4.png" alt="Avatar 4" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="5" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/5.png" alt="Avatar 5" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="6" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/6.png" alt="Avatar 6" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="7" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/7.png" alt="Avatar 7" class="w-full h-auto rounded">
                </button>
                <button type="button" 
                        data-avatar="8" 
                        class="avatar-option p-2 border-2 border-gray-200 rounded-lg hover:border-primary transition-all transform hover:scale-105">
                    <img src="public/img/avatars/8.png" alt="Avatar 8" class="w-full h-auto rounded">
                </button>
            </div>
            
            <button onclick="document.getElementById('avatarModal').classList.add('hidden')" 
                    class="w-full bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors">
                İptal
            </button>
        </div>
    </div>
    
    <!-- Scripts -->
    <script src="js/app.js"></script>
    <script src="js/kuryes-auth.js"></script>
    <script src="js/kuryes-login-modal.js"></script>
    <script src="js/kuryes-profile.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async function() {
            // URL'den ID ve type'ı al
            const urlParams = new URLSearchParams(window.location.search);
            const kuryeId = urlParams.get('id');
            const type = urlParams.get('type') || 'kurye';
            
            if (!kuryeId) {
                console.warn('Kurye ID bulunamadı');
                // ID yoksa varsayılan göster
                document.getElementById('kuryeId').textContent = '#ID YOK';
                return;
            }
            
            // URL'de sadece id ve type parametreleri kalmalı
            const currentUrl = new URL(window.location);
            const idParam = currentUrl.searchParams.get('id');
            const typeParam = currentUrl.searchParams.get('type') || 'kurye';
            if (idParam) {
                const cleanUrl = `${currentUrl.pathname}?id=${idParam}&type=${typeParam}`;
                if (window.location.search !== `?id=${idParam}&type=${typeParam}`) {
                    window.history.replaceState({}, '', cleanUrl);
                }
            }
            
            // Kurye ID'yi göster (geçici)
            document.getElementById('kuryeId').textContent = '#' + kuryeId;
            
            // Google Sheets'ten veri çek
            if (typeof getRecordById === 'function') {
                try {
                    const result = await getRecordById(kuryeId, type);
                    
                    if (result.success && result.data) {
                        const kuryeData = result.data;
                        
                        // Sayfa elementlerini doldur
                        if (typeof populatePageFromRecord === 'function') {
                            populatePageFromRecord(kuryeData, type);
                        }
                        
                        // Form alanlarını doldur (eğer form varsa)
                        const form = document.querySelector('form');
                        if (form && typeof populateFormFromRecord === 'function') {
                            populateFormFromRecord(form, kuryeData);
                        }
                        
                        // LocalStorage'a kaydet
                        localStorage.setItem('kurye_id', kuryeId);
                        localStorage.setItem('kurye_data', JSON.stringify(kuryeData));
                        
                        console.log('Kurye verileri yüklendi:', kuryeData);
                    } else {
                        console.error('Kurye verisi bulunamadı:', result.error);
                    }
                } catch (error) {
                    console.error('Veri yükleme hatası:', error);
                }
            }
            
            const kuryeEditorModal = document.getElementById('kuryeEditorModal');
            const kuryeEditorModalBody = document.getElementById('kuryeEditorModalBody');
            const kuryeEditorFormContainer = document.getElementById('kuryeEditorFormContainer');
            const openKuryeEditorBtn = document.getElementById('openKuryeEditorBtn');
            const kuryeEditorCloseBtn = document.getElementById('kuryeEditorCloseBtn');
            const kuryeEditorCancelBtn = document.getElementById('kuryeEditorCancelBtn');
            const kuryeEditorSaveBtn = document.getElementById('kuryeEditorSaveBtn');
            let kuryeEditorForm = null;
            let kuryeAccordionInitialized = false;
            
            if (kuryeEditorFormContainer && kuryeEditorModalBody) {
                const formElement = kuryeEditorFormContainer.querySelector('#kuryeKartForm');
                if (formElement) {
                    kuryeEditorForm = formElement;
                    kuryeEditorModalBody.appendChild(formElement);
                }
                kuryeEditorFormContainer.remove();
            }
            
            const saveProfileButton = document.getElementById('saveProfile');
            if (saveProfileButton) {
                saveProfileButton.classList.add('hidden');
            }
            
            function toggleBodyScroll(disabled) {
                if (disabled) {
                    document.body.classList.add('overflow-hidden');
                    document.documentElement.classList.add('overflow-hidden');
                } else {
                    document.body.classList.remove('overflow-hidden');
                    document.documentElement.classList.remove('overflow-hidden');
                }
            }

            const SECTION_ICON_CHECK = '<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
            const SECTION_ICON_CROSS = '<svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>';

            function prepareAccordionLabel(trigger) {
                if (!trigger) return null;
                let label = trigger.querySelector('.accordion-label');
                if (!label) {
                    const iconElement = trigger.querySelector('[data-accordion-icon]');
                    const firstElement = trigger.firstElementChild;
                    if (firstElement && firstElement !== iconElement) {
                        label = firstElement;
                    }
                }
                if (label) {
                    label.classList.add('accordion-label', 'flex', 'items-center', 'gap-2');
                }
                return label || trigger;
            }

            const KURYE_STATUS_SKIP = new Set(['deneyimler']);

            const kuryeSectionValidators = {
                'kisisel-bilgiler': function validatePersonalSection() {
                    const requiredIds = ['adSoyad', 'telefon', 'email'];
                    const baseFilled = requiredIds.every(id => isFieldFilled(document.getElementById(id)));
                    const sehirSelect = document.getElementById('sehir');
                    return baseFilled && !!sehirSelect && sehirSelect.value.trim() !== '';
                },
                'kurye-bilgileri': function validateCourierSection() {
                    const ehliyetSelected = !!document.querySelector('#kuryeKartForm input[name="ehliyet"]:checked');
                    const motorRadio = document.querySelector('#kuryeKartForm input[name="motorVarmi"]:checked');
                    if (!ehliyetSelected || !motorRadio) {
                        return false;
                    }
                    if (motorRadio.value === 'evet') {
                        const motorFields = ['motorMarka', 'motorModel', 'motorYil', 'motorPlaka'];
                        return motorFields.every(id => isFieldFilled(document.getElementById(id)));
                    }
                    return true;
                },
                'sosyal-medya': function validateSocialSection() {
                    const whatsapp = document.getElementById('whatsapp');
                    const whatsappGorunur = document.getElementById('whatsappGorunur');
                    const telegram = document.getElementById('telegram');
                    const telegramGorunur = document.getElementById('telegramGorunur');
                    const instagram = document.getElementById('instagram');
                    const instagramGorunur = document.getElementById('instagramGorunur');
                    const options = [
                        whatsapp && whatsapp.value.trim() && whatsappGorunur && whatsappGorunur.checked,
                        telegram && telegram.value.trim() && telegramGorunur && telegramGorunur.checked,
                        instagram && instagram.value.trim() && instagramGorunur && instagramGorunur.checked
                    ];
                    return options.some(Boolean);
                },
                'acil-musaitlik': function validateEmergencySection() {
                    const acilCheck = document.getElementById('acilMusaitlikCheck');
                    if (!acilCheck || !acilCheck.checked) {
                        return true;
                    }
                    const compensationPairs = [
                        ['acilMusaitlikSaatlikCheck', 'acilMusaitlikSaatlikUcret'],
                        ['acilMusaitlikKmCheck', 'acilMusaitlikKmUcret'],
                        ['acilMusaitlikPaketCheck', 'acilMusaitlikPaketUcret']
                    ];
                    const hasCompensation = compensationPairs.some(([checkId, inputId]) => {
                        const checkEl = document.getElementById(checkId);
                        const inputEl = document.getElementById(inputId);
                        return checkEl && checkEl.checked && isFieldFilled(inputEl);
                    });
                    const baslangic = document.getElementById('acilMusaitlikBaslangicSaati');
                    return hasCompensation && !!baslangic && baslangic.value.trim() !== '';
                }
            };

            let kuryeSectionListenersAttached = false;

            function isFieldFilled(element) {
                if (!element) return false;
                if (element.type === 'checkbox' || element.type === 'radio') {
                    return element.checked;
                }
                return element.value !== undefined && element.value !== null && element.value.toString().trim() !== '';
            }

            function ensureKuryeSectionIndicator(section, trigger, sectionKey) {
                if (!sectionKey || !trigger || KURYE_STATUS_SKIP.has(sectionKey)) {
                    return;
                }
                const label = prepareAccordionLabel(trigger);
                let indicator = trigger.querySelector(`[data-section-status-indicator="${sectionKey}"]`);
                if (!indicator) {
                    indicator = document.createElement('span');
                    indicator.className = 'section-indicator inline-flex items-center justify-center w-4 h-4 text-red-500';
                    indicator.setAttribute('data-section-status-indicator', sectionKey);
                    indicator.setAttribute('aria-hidden', 'true');
                    indicator.innerHTML = SECTION_ICON_CROSS;
                    if (label) {
                        label.insertBefore(indicator, label.firstChild);
                    } else {
                        trigger.insertBefore(indicator, trigger.firstChild);
                    }
                } else if (label && indicator.parentElement !== label) {
                    label.insertBefore(indicator, label.firstChild);
                }
            }

            function updateKuryeSectionStatus(sectionKey) {
                if (!sectionKey || KURYE_STATUS_SKIP.has(sectionKey)) {
                    return;
                }
                const indicator = kuryeEditorModalBody ? kuryeEditorModalBody.querySelector(`[data-section-status-indicator="${sectionKey}"]`) : null;
                const validator = kuryeSectionValidators[sectionKey];
                if (!indicator) return;
                let isComplete = false;
                if (sectionKey === 'acil-musaitlik') {
                    const acilCheck = document.getElementById('acilMusaitlikCheck');
                    isComplete = acilCheck && acilCheck.checked;
                } else if (typeof validator === 'function') {
                    isComplete = !!validator();
                }
                indicator.innerHTML = isComplete ? SECTION_ICON_CHECK : SECTION_ICON_CROSS;
                indicator.classList.toggle('text-green-500', isComplete);
                indicator.classList.toggle('text-red-500', !isComplete);
            }

            function updateAllKuryeSectionStatuses() {
                Object.keys(kuryeSectionValidators).forEach(updateKuryeSectionStatus);
            }

            function handleKuryeSectionEvent(event) {
                const section = event.target.closest('[data-accordion-item]');
                if (!section) return;
                const sectionKey = section.dataset.sectionKey;
                if (sectionKey) {
                    updateKuryeSectionStatus(sectionKey);
                }
            }

            function attachKuryeSectionListeners() {
                if (kuryeSectionListenersAttached || !kuryeEditorForm) return;
                ['input', 'change'].forEach(evt => kuryeEditorForm.addEventListener(evt, handleKuryeSectionEvent));
                kuryeSectionListenersAttached = true;
            }
            if (kuryeEditorForm) {
                attachKuryeSectionListeners();
            }
            
            function initKuryeEditorAccordion() {
                if (!kuryeEditorForm || kuryeAccordionInitialized) return;
                
                const sections = kuryeEditorForm.querySelectorAll('[data-accordion-item]');
                sections.forEach((section, index) => {
                    if (section.dataset.accordionInit === '1') return;
                    section.dataset.accordionInit = '1';
                    
                    let trigger = section.querySelector('[data-accordion-trigger]');
                    let content = section.querySelector('[data-accordion-content]');
                    
                    if (!trigger) {
                        const titleElement = section.querySelector('h3');
                        const titleText = titleElement ? titleElement.textContent.trim() : 'Bölüm';
                        if (titleElement) {
                            const button = document.createElement('button');
                            button.type = 'button';
                            button.className = 'accordion-trigger flex items-center justify-between w-full text-left py-2';
                            button.setAttribute('data-accordion-trigger', '');
                            button.innerHTML = `
                                <span class="text-lg font-semibold text-text">${titleText}</span>
                                <svg class="w-5 h-5 text-muted transition-transform duration-200" data-accordion-icon fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 9l6 6 6-6"></path>
                                </svg>
                            `;
                            titleElement.replaceWith(button);
                            
                            const wrapper = document.createElement('div');
                            wrapper.className = 'accordion-content mt-4 space-y-4';
                            wrapper.setAttribute('data-accordion-content', '');
                            while (button.nextSibling) {
                                wrapper.appendChild(button.nextSibling);
                            }
                            section.appendChild(wrapper);
                            
                            trigger = button;
                            content = wrapper;
                        }
                    }
                    
                    if (!trigger || !content) return;
                    const rawTitleSource = trigger ? trigger.cloneNode(true) : null;
                    const rawTitle = rawTitleSource ? rawTitleSource.textContent : (section.querySelector('h3') ? section.querySelector('h3').textContent : `section-${index}`);
                    let sectionKey = section.dataset.sectionKey;
                    if (!sectionKey) {
                        const normalized = (rawTitle || `section-${index}`).trim().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g, '');
                        sectionKey = normalized.replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g, '') || `section-${index}`;
                        section.dataset.sectionKey = sectionKey;
                    }
                    ensureKuryeSectionIndicator(section, trigger, sectionKey);
                    const icon = trigger.querySelector('[data-accordion-icon]');
                    
                    const collapse = () => {
                        content.classList.add('hidden');
                        section.classList.remove('border-primary');
                        if (icon) icon.classList.remove('rotate-180');
                    };
                    const expand = () => {
                        content.classList.remove('hidden');
                        section.classList.add('border-primary');
                        if (icon) icon.classList.add('rotate-180');
                    };
                    
                    trigger.addEventListener('click', () => {
                        const isHidden = content.classList.contains('hidden');
                        sections.forEach(other => {
                            if (other === section) return;
                            const otherContent = other.querySelector('[data-accordion-content]');
                            const otherIcon = other.querySelector('[data-accordion-icon]');
                            if (otherContent) otherContent.classList.add('hidden');
                            other.classList.remove('border-primary');
                            if (otherIcon) otherIcon.classList.remove('rotate-180');
                        });
                        
                        if (isHidden) {
                            expand();
                        } else {
                            collapse();
                        }
                    });
                    
                    if (index === 0) {
                        expand();
                    } else {
                        collapse();
                    }
                });
                
                kuryeAccordionInitialized = true;
            }
            
            function openKuryeEditorModal() {
                if (!kuryeEditorModal) return;
                kuryeEditorModal.classList.remove('hidden');
                kuryeEditorModal.classList.add('flex');
                toggleBodyScroll(true);
                initKuryeEditorAccordion();
                attachKuryeSectionListeners();
                updateAllKuryeSectionStatuses();
            }
            
            function closeKuryeEditorModal() {
                if (!kuryeEditorModal) return;
                kuryeEditorModal.classList.add('hidden');
                toggleBodyScroll(false);
            }
            
            openKuryeEditorBtn?.addEventListener('click', openKuryeEditorModal);
            kuryeEditorCloseBtn?.addEventListener('click', closeKuryeEditorModal);
            kuryeEditorCancelBtn?.addEventListener('click', closeKuryeEditorModal);
            
            if (kuryeEditorModal) {
                kuryeEditorModal.addEventListener('click', function(e) {
                    if (e.target === kuryeEditorModal) {
                        closeKuryeEditorModal();
                    }
                });
            }
            
            if (kuryeEditorSaveBtn) {
                kuryeEditorSaveBtn.addEventListener('click', function() {
                    if (saveProfileButton) {
                        saveProfileButton.click();
                    }
                });
            }
            
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape' && kuryeEditorModal && !kuryeEditorModal.classList.contains('hidden')) {
                    closeKuryeEditorModal();
                }
            });
            
            // Avatar seçimi
            const selectedAvatar = document.getElementById('selectedAvatar');
            const profileAvatar = document.getElementById('profileAvatar');
            const avatarOptions = document.querySelectorAll('.avatar-option');
            
            // Seçili avatar'ı işaretle
            function updateAvatarSelection(avatarNumber) {
                avatarOptions.forEach(option => {
                    option.classList.remove('border-primary', 'ring-2', 'ring-primary');
                    option.classList.add('border-gray-200');
                });
                
                const selectedOption = document.querySelector(`[data-avatar="${avatarNumber}"]`);
                if (selectedOption) {
                    selectedOption.classList.remove('border-gray-200');
                    selectedOption.classList.add('border-primary', 'ring-2', 'ring-primary');
                }
            }
            
            // Avatar seçimi işlemi
            avatarOptions.forEach(option => {
                option.addEventListener('click', function() {
                    const avatarNumber = this.getAttribute('data-avatar');
                    selectedAvatar.value = avatarNumber;
                    profileAvatar.src = `public/img/avatars/${avatarNumber}.png`;
                    updateAvatarSelection(avatarNumber);
                    
                    // Modal'ı kapat
                    document.getElementById('avatarModal').classList.add('hidden');
                });
            });
            
            // İlk yüklemede seçili avatar'ı işaretle
            updateAvatarSelection(selectedAvatar.value);
            
            // Modal'a tıklayınca kapat
            document.getElementById('avatarModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    this.classList.add('hidden');
                }
            });
            
            // TODO: DB'den veri ıekme
            // fetch(`/api/kurye/${kuryeId}`)
            //     .then(response => response.json())
            //     .then(data => {
            //         // Form alanlarını doldur
            //         document.getElementById('adSoyad').value = data.adSoyad || '';
            //         document.getElementById('telefon').value = data.telefon || '';
            //         document.getElementById('email').value = data.email || '';
            //         document.getElementById('sehir').value = data.sehir || '';
            //         document.getElementById('ehliyet').value = data.ehliyet || '';
            //         if (data.motorVarmi) {
            //             document.querySelector(`input[name="motorVarmi"][value="${data.motorVarmi}"]`).checked = true;
            //         }
            //         document.getElementById('bio').value = data.bio || '';
            //         document.getElementById('calismaBaslangic').value = data.calismaBaslangic || '';
            //         document.getElementById('calismaBitis').value = data.calismaBitis || '';
            //         document.getElementById('whatsapp').value = data.whatsapp || '';
            //         // Avatar varsa kullan, yoksa varsayılan 1.png
            //         const avatar = data.avatar || '1';
            //         selectedAvatar.value = avatar;
            //         profileAvatar.src = `public/img/avatars/${avatar}.png`;
            //         updateAvatarSelection(avatar);
            //         // Profil görünümünü güncelle
            //         updateProfileDisplay();
            //     });
            
            // Deneyimler dizisi
            let deneyimler = [];
            
            // Motor Var mı? radio button değişiklikleri
            const motorVarmiRadios = document.querySelectorAll('input[name="motorVarmi"]');
            const motorDetaylari = document.getElementById('motorDetaylari');
            
            motorVarmiRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    if (this.value === 'evet') {
                        motorDetaylari.classList.remove('hidden');
                    } else {
                        motorDetaylari.classList.add('hidden');
                        // Motor detaylarını temizle
                        document.getElementById('motorMarka').value = '';
                        document.getElementById('motorModel').value = '';
                        document.getElementById('motorYil').value = '';
                        document.getElementById('motorPlaka').value = '';
                    }
                    updateKuryeSectionStatus('kurye-bilgileri');
                });
            });
            
            // Çalışma Modeli checkbox değişiklikleri - Tik işareti göster/gizle
            const calismaModeliEsnaf = document.getElementById('calismaModeliEsnaf');
            const calismaModeliSigortali = document.getElementById('calismaModeliSigortali');
            const calismaModeliTik = document.getElementById('calismaModeliTik');
            
            function updateCalismaModeliTik() {
                if (calismaModeliEsnaf && calismaModeliSigortali && calismaModeliTik) {
                    const enAzBiriSecili = calismaModeliEsnaf.checked || calismaModeliSigortali.checked;
                    if (enAzBiriSecili) {
                        calismaModeliTik.classList.remove('hidden');
                    } else {
                        calismaModeliTik.classList.add('hidden');
                    }
                }
            }
            
            if (calismaModeliEsnaf) {
                calismaModeliEsnaf.addEventListener('change', updateCalismaModeliTik);
            }
            if (calismaModeliSigortali) {
                calismaModeliSigortali.addEventListener('change', updateCalismaModeliTik);
            }
            
            // İlk yüklemede kontrol et
            updateCalismaModeliTik();
            
            // Deneyim Modal Yönetimi
            const deneyimModal = document.getElementById('deneyimModal');
            const deneyimEkleBtn = document.getElementById('deneyimEkleBtn');
            const deneyimModalClose = document.getElementById('deneyimModalClose');
            const deneyimModalCancel = document.getElementById('deneyimModalCancel');
            const deneyimForm = document.getElementById('deneyimForm');
            const deneyimKaydet = document.getElementById('deneyimKaydet');
            
            // Deneyim Modal'ı aç
            function openDeneyimModal() {
                if (deneyimModal) {
                    deneyimModal.classList.remove('hidden');
                    document.body.style.overflow = 'hidden';
                    // İlk input'a odaklan
                    setTimeout(() => {
                        const sirketInput = document.getElementById('deneyimSirket');
                        if (sirketInput) sirketInput.focus();
                    }, 100);
                }
            }
            
            // Deneyim Modal'ı kapat
            function closeDeneyimModal() {
                if (deneyimModal) {
                    deneyimModal.classList.add('hidden');
                    document.body.style.overflow = '';
                    // Formu temizle
                    if (deneyimForm) {
                        deneyimForm.reset();
                    }
                }
            }
            
            // Deneyim Ekle butonu
            if (deneyimEkleBtn) {
                deneyimEkleBtn.addEventListener('click', openDeneyimModal);
            }
            
            // Modal kapatma butonları
            if (deneyimModalClose) {
                deneyimModalClose.addEventListener('click', closeDeneyimModal);
            }
            
            if (deneyimModalCancel) {
                deneyimModalCancel.addEventListener('click', closeDeneyimModal);
            }
            
            // Modal'a tıklayınca kapat
            if (deneyimModal) {
                deneyimModal.addEventListener('click', function(e) {
                    if (e.target === deneyimModal) {
                        closeDeneyimModal();
                    }
                });
            }
            
            // Deneyim Form Submit
            if (deneyimForm) {
                deneyimForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const sirketInput = document.getElementById('deneyimSirket');
                    const sureSelect = document.getElementById('deneyimSure');
                    const gorevInput = document.getElementById('deneyimGorev');
                    
                    if (!sirketInput || !sureSelect || !gorevInput) return;
                    
                    // Form validation
                    if (!this.checkValidity()) {
                        this.reportValidity();
                        return;
                    }
                    
                    const sirket = sirketInput.value.trim();
                    const sure = sureSelect.value;
                    const gorev = gorevInput.value.trim();
                    
                    if (sirket && sure && gorev) {
                        const deneyim = {
                            id: Date.now(),
                            sirket: sirket,
                            sure: sure,
                            gorev: gorev
                        };
                        
                        deneyimler.push(deneyim);
                        updateDeneyimListesi();
                        
                        // Modal'ı kapat (form otomatik temizlenecek)
                        closeDeneyimModal();
                    }
                });
            }
            
            // Deneyim listesini güncelle
            function updateDeneyimListesi() {
                const deneyimListesi = document.getElementById('deneyimListesi');
                const sidebarDeneyimListesi = document.getElementById('sidebarDeneyimListesi');
                
                // Form listesi
                if (deneyimler.length === 0) {
                    deneyimListesi.innerHTML = '<p class="text-muted text-sm">Deneyim yok</p>';
                } else {
                    deneyimListesi.innerHTML = deneyimler.map(deneyim => `
                        <div class="flex items-center justify-between p-3 bg-gray-50 rounded-lg">
                            <div>
                                <p class="font-medium text-sm">${deneyim.sirket} - ${deneyim.gorev} - ${deneyim.sure}</p>
                            </div>
                            <button type="button" class="text-red-500 hover:text-red-700 text-sm" onclick="removeDeneyim(${deneyim.id})">
                                Sil
                            </button>
                        </div>
                    `).join('');
                }
                
                // Sidebar listesi
                if (deneyimler.length === 0) {
                    sidebarDeneyimListesi.innerHTML = '<p class="text-muted text-xs">Deneyim yok</p>';
                } else {
                    sidebarDeneyimListesi.innerHTML = deneyimler.map(deneyim => `
                        <div class="p-2 bg-gray-50 rounded text-xs">
                            <p class="font-medium">${deneyim.sirket} - ${deneyim.gorev}</p>
                            <p class="text-muted">${deneyim.sure}</p>
                        </div>
                    `).join('');
                }
            }
            
            // Deneyim silme
            window.removeDeneyim = function(id) {
                deneyimler = deneyimler.filter(d => d.id !== id);
                updateDeneyimListesi();
            };
            
            // Modal önizleme güncelleme
            function updateModalPreview() {
                // Avatar
                const selectedAvatar = document.getElementById('selectedAvatar').value || '1';
                document.getElementById('previewAvatar').src = `public/img/avatars/${selectedAvatar}.png`;
                
                // Ad Soyad ve şehir
                document.getElementById('previewAdSoyad').textContent = document.getElementById('adSoyad').value || '-';
                document.getElementById('previewSehir').textContent = document.getElementById('sehir').value || '-';
                
                // Ehliyet
                const ehliyetCheckboxes = document.querySelectorAll('input[name="ehliyet"]:checked');
                const ehliyetValues = Array.from(ehliyetCheckboxes).map(cb => cb.value);
                document.getElementById('previewEhliyet').textContent = ehliyetValues.length > 0 ? ehliyetValues.join(', ') : '-';
                
                // Motor (plaka görünürlük kontrolü ile)
                const motorVarmi = document.querySelector('input[name="motorVarmi"]:checked');
                if (motorVarmi && motorVarmi.value === 'evet') {
                    const marka = document.getElementById('motorMarka').value;
                    const model = document.getElementById('motorModel').value;
                    const yil = document.getElementById('motorYil').value;
                    const plaka = document.getElementById('motorPlaka').value;
                    const plakaGorunur = document.getElementById('plakaGorunur') && document.getElementById('plakaGorunur').checked;
                    const motorParts = [];
                    if (marka) motorParts.push(marka);
                    if (model) motorParts.push(model);
                    if (yil) motorParts.push(yil);
                    if (plaka && plakaGorunur) motorParts.push(plaka); // Sadece checkbox işaretliyse plaka göster
                    document.getElementById('previewMotor').textContent = motorParts.length > 0 ? motorParts.join(' ') : 'Var (detay yok)';
                } else {
                    document.getElementById('previewMotor').textContent = 'Yok';
                }
                
                // Belgeler
                const belgeler = [];
                if (document.querySelector('input[name="p1Belgesi"]:checked')) belgeler.push('P1');
                if (document.querySelector('input[name="srcBelgesi"]:checked')) belgeler.push('SRC');
                if (document.querySelector('input[name="psikoteknik"]:checked')) belgeler.push('Psikoteknik');
                document.getElementById('previewBelgeler').textContent = belgeler.length > 0 ? belgeler.join(', ') : '-';
                
                // Çalışma Modeli
                const calismaModeliCheckboxes = document.querySelectorAll('input[name="calismaModeli"]:checked');
                const calismaModeliValues = Array.from(calismaModeliCheckboxes).map(cb => cb.value);
                if (calismaModeliValues.length === 2) {
                    document.getElementById('previewCalismaModeli').textContent = 'Tüm Çalışma Modellerine Uygunum';
                } else if (calismaModeliValues.length > 0) {
                    const calismaModeliLabels = calismaModeliValues.map(val => {
                        if (val === 'esnaf') return 'Esnaf Kurye';
                        if (val === 'sigortali') return 'Sigortalı';
                        return val;
                    });
                    document.getElementById('previewCalismaModeli').textContent = calismaModeliLabels.join(', ');
                } else {
                    document.getElementById('previewCalismaModeli').textContent = '-';
                }
                
                // Deneyimler
                if (deneyimler.length > 0) {
                    const deneyimText = deneyimler.map(d => `${d.sirket} - ${d.gorev} - ${d.sure}`).join(', ');
                    document.getElementById('previewDeneyimler').textContent = deneyimText;
                } else {
                    document.getElementById('previewDeneyimler').textContent = 'Deneyim Yok';
                }
                
                // Telefon (checkbox kontrolü ile)
                const telefon = document.getElementById('telefon').value;
                const telefonGorunur = document.getElementById('telefonGorunur') && document.getElementById('telefonGorunur').checked;
                const previewTelefonContainer = document.getElementById('previewTelefonContainer');
                if (telefon && telefonGorunur && previewTelefonContainer) {
                    previewTelefonContainer.classList.remove('hidden');
                    document.getElementById('previewTelefon').textContent = telefon;
                } else if (previewTelefonContainer) {
                    previewTelefonContainer.classList.add('hidden');
                }
                
                // WhatsApp (checkbox kontrolü ile)
                const whatsapp = document.getElementById('whatsapp').value;
                const whatsappGorunur = document.getElementById('whatsappGorunur') && document.getElementById('whatsappGorunur').checked;
                const previewWhatsAppContainer = document.getElementById('previewWhatsAppContainer');
                if (whatsapp && whatsappGorunur && previewWhatsAppContainer) {
                    previewWhatsAppContainer.classList.remove('hidden');
                    document.getElementById('previewWhatsApp').textContent = whatsapp;
                } else if (previewWhatsAppContainer) {
                    previewWhatsAppContainer.classList.add('hidden');
                }
                
                const telegramInput = document.getElementById('telegram');
                const telegramValue = telegramInput ? telegramInput.value.trim() : '';
                const telegramGorunur = document.getElementById('telegramGorunur') && document.getElementById('telegramGorunur').checked;
                const previewTelegramContainer = document.getElementById('previewTelegramContainer');
                if (previewTelegramContainer) {
                    if (telegramValue && telegramGorunur) {
                        previewTelegramContainer.classList.remove('hidden');
                        document.getElementById('previewTelegram').textContent = telegramValue;
                    } else {
                        previewTelegramContainer.classList.add('hidden');
                    }
                }
                
                const instagramInput = document.getElementById('instagram');
                const instagramValue = instagramInput ? instagramInput.value.trim() : '';
                const instagramGorunur = document.getElementById('instagramGorunur') && document.getElementById('instagramGorunur').checked;
                const previewInstagramContainer = document.getElementById('previewInstagramContainer');
                if (previewInstagramContainer) {
                    if (instagramValue && instagramGorunur) {
                        previewInstagramContainer.classList.remove('hidden');
                        document.getElementById('previewInstagram').textContent = instagramValue;
                    } else {
                        previewInstagramContainer.classList.add('hidden');
                    }
                }
                
                // Acil Müsaitlik (checkbox kontrolü ile)
                const acilMusaitlikCheck = document.getElementById('acilMusaitlikCheck');
                const previewAcilMusaitlikContainer = document.getElementById('previewAcilMusaitlikContainer');
                if (acilMusaitlikCheck && acilMusaitlikCheck.checked && previewAcilMusaitlikContainer) {
                    previewAcilMusaitlikContainer.classList.remove('hidden');
                } else if (previewAcilMusaitlikContainer) {
                    previewAcilMusaitlikContainer.classList.add('hidden');
                }
            }
            
            // Form submit event'ini engelle
            const form = document.getElementById('kuryeKartForm');
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                return false;
            });
            
            // Değişiklikleri Kaydet butonu
            const saveProfile = document.getElementById('saveProfile');
            const successMessage = document.getElementById('successMessage');
            const kuryePreviewModal = document.getElementById('kuryePreviewModal');
            const openKuryePreviewBtn = document.getElementById('openKuryePreviewBtn');
            let isProcessing = false;

            if (openKuryePreviewBtn && kuryePreviewModal) {
                openKuryePreviewBtn.addEventListener('click', function() {
                    updateModalPreview();
                    kuryePreviewModal.classList.remove('hidden');
                    toggleBodyScroll(true);
                });
            }

            saveProfile.addEventListener('click', function(e) {
                e.preventDefault();
                submitKuryeProfile(saveProfile);
            });

            const confirmSaveBtn = document.getElementById('confirmSaveBtn');
            if (confirmSaveBtn) {
                confirmSaveBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    submitKuryeProfile(confirmSaveBtn);
                });
            }

            function submitKuryeProfile(triggerBtn) {
                if (isProcessing) return;

                if (!form.checkValidity()) {
                    form.reportValidity();
                    return;
                }

                isProcessing = true;

                const originalTriggerText = triggerBtn ? triggerBtn.textContent : '';
                if (triggerBtn) {
                    triggerBtn.disabled = true;
                    triggerBtn.textContent = 'Kaydediliyor...';
                }

                let editorOriginalText = '';
                if (kuryeEditorSaveBtn) {
                    editorOriginalText = kuryeEditorSaveBtn.textContent || 'Kaydet';
                    kuryeEditorSaveBtn.disabled = true;
                    kuryeEditorSaveBtn.textContent = 'Kaydediliyor...';
                }

                function finalize() {
                    if (triggerBtn) {
                        triggerBtn.disabled = false;
                        triggerBtn.textContent = originalTriggerText || 'Kaydet';
                    }
                    if (kuryeEditorSaveBtn) {
                        kuryeEditorSaveBtn.disabled = false;
                        kuryeEditorSaveBtn.textContent = editorOriginalText || 'Kaydet';
                    }
                    isProcessing = false;
                }

                try {
                    const formData = new FormData(form);
                    
                    // Kurye ID'yi ekle (URL'den veya localStorage'dan)
                    const currentKuryeId = kuryeId || localStorage.getItem('kurye_id') || '';
                    if (!currentKuryeId) {
                        alert('Kurye ID bulunamadı. Lütfen sayfayı yenileyin.');
                        finalize();
                        return;
                    }
                    formData.append('kuryeid', currentKuryeId);

                    // Ehliyet checkbox'larını topla (virgülle ayrılmış)
                    const ehliyetCheckboxes = form.querySelectorAll('input[name="ehliyet"]:checked');
                    const ehliyetValues = Array.from(ehliyetCheckboxes).map(cb => cb.value);
                    if (ehliyetValues.length > 0) {
                        formData.set('ehliyet', ehliyetValues.join(','));
                    }

                    // Çalışma modeli checkbox'larını topla (virgülle ayrılmış)
                    const calismaModeliCheckboxes = form.querySelectorAll('input[name="calismaModeli"]:checked');
                    const calismaModeliValues = Array.from(calismaModeliCheckboxes).map(cb => cb.value);
                    if (calismaModeliValues.length > 0) {
                        formData.set('calismaModeli', calismaModeliValues.join(','));
                    }

                    // Deneyimler JSON formatında
                    formData.set('deneyimler', JSON.stringify(deneyimler || []));

                    // Acil müsaitlik checkbox
                    const acilMusaitlikCheck = document.getElementById('acilMusaitlikCheck');
                    if (acilMusaitlikCheck) {
                        formData.set('acilMusaitlikCheck', acilMusaitlikCheck.checked ? 'evet' : 'hayır');

                        if (acilMusaitlikCheck.checked) {
                            const acilMusaitlikSaatlikCheck = document.getElementById('acilMusaitlikSaatlikCheck');
                            const acilMusaitlikSaatlikInput = document.getElementById('acilMusaitlikSaatlikUcret');
                            const acilMusaitlikKmCheck = document.getElementById('acilMusaitlikKmCheck');
                            const acilMusaitlikKmInput = document.getElementById('acilMusaitlikKmUcret');
                            const acilMusaitlikPaketCheck = document.getElementById('acilMusaitlikPaketCheck');
                            const acilMusaitlikPaketInput = document.getElementById('acilMusaitlikPaketUcret');

                            if (acilMusaitlikSaatlikCheck) {
                                formData.set('acilMusaitlikSaatlikCheck', acilMusaitlikSaatlikCheck.checked ? 'evet' : 'hayır');
                            }
                            if (acilMusaitlikSaatlikInput && acilMusaitlikSaatlikCheck && acilMusaitlikSaatlikCheck.checked) {
                                formData.set('acilMusaitlikSaatlikUcret', acilMusaitlikSaatlikInput.value || '');
                            }
                            
                            if (acilMusaitlikKmCheck) {
                                formData.set('acilMusaitlikKmCheck', acilMusaitlikKmCheck.checked ? 'evet' : 'hayır');
                            }
                            if (acilMusaitlikKmInput && acilMusaitlikKmCheck && acilMusaitlikKmCheck.checked) {
                                formData.set('acilMusaitlikKmUcret', acilMusaitlikKmInput.value || '');
                            }
                            
                            if (acilMusaitlikPaketCheck) {
                                formData.set('acilMusaitlikPaketCheck', acilMusaitlikPaketCheck.checked ? 'evet' : 'hayır');
                            }
                            if (acilMusaitlikPaketInput && acilMusaitlikPaketCheck && acilMusaitlikPaketCheck.checked) {
                                formData.set('acilMusaitlikPaketUcret', acilMusaitlikPaketInput.value || '');
                            }

                            const acilMusaitlikBaslangicSaati = document.getElementById('acilMusaitlikBaslangicSaati');
                            const acilMusaitlikCikisSaati = document.getElementById('acilMusaitlikCikisSaati');
                            if (acilMusaitlikBaslangicSaati) {
                                formData.set('acilMusaitlikBaslangicSaati', acilMusaitlikBaslangicSaati.value || '');
                            }
                            if (acilMusaitlikCikisSaati) {
                                formData.set('acilMusaitlikCikisSaati', acilMusaitlikCikisSaati.value || '');
                            }

                            const acilMusaitlikOtomatikMesaj = document.getElementById('acilMusaitlikOtomatikMesaj');
                            if (acilMusaitlikOtomatikMesaj) {
                                formData.set('acilMusaitlikOtomatikMesaj', acilMusaitlikOtomatikMesaj.value || '');
                            }

                            const acilMusaitlikEkBilgiler = document.getElementById('acilMusaitlikEkBilgiler');
                            if (acilMusaitlikEkBilgiler) {
                                formData.set('acilMusaitlikEkBilgiler', acilMusaitlikEkBilgiler.value || '');
                            }
                        }
                    }

                    // Checkbox'ları düzelt
                    const plakaGorunur = document.getElementById('plakaGorunur');
                    const telefonGorunur = document.getElementById('telefonGorunur');
                    const whatsappGorunur = document.getElementById('whatsappGorunur');
                    const p1Belgesi = form.querySelector('input[name="p1Belgesi"]');
                    const srcBelgesi = form.querySelector('input[name="srcBelgesi"]');
                    const psikoteknik = form.querySelector('input[name="psikoteknik"]');
                    
                    if (plakaGorunur) {
                        formData.set('plakaGorunur', plakaGorunur.checked ? 'evet' : 'hayır');
                    }
                    if (telefonGorunur) {
                        formData.set('telefonGorunur', telefonGorunur.checked ? 'evet' : 'hayır');
                    }
                    if (whatsappGorunur) {
                        formData.set('whatsappGorunur', whatsappGorunur.checked ? 'evet' : 'hayır');
                    }
                    if (p1Belgesi) {
                        formData.set('p1Belgesi', p1Belgesi.checked ? 'evet' : 'hayır');
                    }
                    if (srcBelgesi) {
                        formData.set('srcBelgesi', srcBelgesi.checked ? 'evet' : 'hayır');
                    }
                    if (psikoteknik) {
                        formData.set('psikoteknik', psikoteknik.checked ? 'evet' : 'hayır');
                    }

                    console.log('Form Data:', Object.fromEntries(formData));

                    // Google Sheets'e gönder - Tüm form verilerini topla
                    const formDataObj = {};
                    for (let [key, value] of formData.entries()) {
                        // Aynı key için array oluştur
                        if (formDataObj[key]) {
                            if (Array.isArray(formDataObj[key])) {
                                formDataObj[key].push(value);
                            } else {
                                formDataObj[key] = [formDataObj[key], value];
                            }
                        } else {
                            formDataObj[key] = value;
                        }
                    }
                    
                    // JSON payload hazırla
                    const jsonPayload = JSON.stringify(formDataObj);
                    
                    // Form-urlencoded olarak hazırla
                    const formDataUrlEncoded = new URLSearchParams();
                    formDataUrlEncoded.append('action', 'update');
                    formDataUrlEncoded.append('id', currentKuryeId);
                    formDataUrlEncoded.append('formType', 'kurye');
                    formDataUrlEncoded.append('jsonData', jsonPayload);
                    
                    // Tüm form verilerini de ekle
                    Object.keys(formDataObj).forEach(key => {
                        const value = Array.isArray(formDataObj[key]) 
                            ? formDataObj[key].join(',') 
                            : formDataObj[key];
                        formDataUrlEncoded.append(key, value);
                    });
                    
                    console.log('Google Sheets\'e gönderiliyor...', {
                        id: currentKuryeId,
                        formType: 'kurye',
                        dataCount: Object.keys(formDataObj).length
                    });
                    
                    // Google Apps Script'e gönder
                    const PROFILE_UPDATE_URL = 'https://script.google.com/macros/s/AKfycbyP4rGbVDXG8-xli6QPv4YXaHgiCyCoCr5UvdJtYJyTi2RWfFx-rqUd-ZtTQiMsz6Hdww/exec';
                    
                    fetch(PROFILE_UPDATE_URL, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/x-www-form-urlencoded'
                        },
                        body: formDataUrlEncoded.toString()
                    })
                    .then(response => response.text())
                    .then(text => {
                        console.log('Google Sheets response:', text);
                        let result;
                        try {
                            result = JSON.parse(text);
                        } catch (e) {
                            result = { success: true, message: text };
                        }
                        
                        if (result.success) {
                            if (kuryePreviewModal) {
                                kuryePreviewModal.classList.add('hidden');
                            }
                            closeKuryeEditorModal();

                            setTimeout(() => {
                                if (successMessage) {
                                    successMessage.classList.remove('hidden');
                                }
                                if (typeof updateProfileDisplay === 'function') {
                                    updateProfileDisplay();
                                }
                                if (typeof updateAllKuryeSectionStatuses === 'function') {
                                    updateAllKuryeSectionStatuses();
                                }
                                finalize();
                                setTimeout(() => {
                                    if (successMessage) {
                                        successMessage.classList.add('hidden');
                                    }
                                }, 3000);
                            }, 200);
                        } else {
                            alert('Kayıt sırasında bir hata oluştu: ' + (result.error || 'Bilinmeyen hata'));
                            finalize();
                        }
                    })
                    .catch(error => {
                        console.error('Profil kaydedilirken hata oluştu:', error);
                        alert('Bir hata oluştu. Lütfen tekrar deneyin.');
                        finalize();
                    });
                } catch (error) {
                    console.error('Profil kaydedilirken hata oluştu:', error);
                    alert('Bir hata oluştu. Lütfen tekrar deneyin.');
                    finalize();
                }
            }
            
            // Modal kapatma
            function closeModal() {
                kuryePreviewModal.classList.add('hidden');
                const editorStillOpen = kuryeEditorModal && !kuryeEditorModal.classList.contains('hidden');
                if (!editorStillOpen) {
                    toggleBodyScroll(false);
                }
                isProcessing = false;
            }
            
            kuryePreviewModal.addEventListener('click', function(e) {
                if (e.target === this) {
                    closeModal();
                }
            });
            
            const modalCloseBtn = document.getElementById('modalCloseBtn');
            if (modalCloseBtn) {
                modalCloseBtn.addEventListener('click', closeModal);
            }
            
            const modalCancelBtn = document.getElementById('modalCancelBtn');
            if (modalCancelBtn) {
                modalCancelBtn.addEventListener('click', closeModal);
            }
            
            // Acil Müsaitlik checkbox yönetimi
            const acilMusaitlikCheck = document.getElementById('acilMusaitlikCheck');
            const acilMusaitlikContent = document.getElementById('acilMusaitlikContent');
            
            if (acilMusaitlikCheck) {
                // Acil Müsaitlik checkbox değiştiğinde içeriği göster/gizle ve profil kartını güncelle
                const toggleAcilMusaitlikSection = () => {
                    if (acilMusaitlikCheck.checked && acilMusaitlikContent) {
                        acilMusaitlikContent.classList.remove('hidden');
                        const acilSection = acilMusaitlikContent.closest('[data-accordion-item]');
                        if (acilSection) {
                            const contentWrapper = acilSection.querySelector('[data-accordion-content]');
                            const icon = acilSection.querySelector('[data-accordion-icon]');
                            if (contentWrapper && contentWrapper.classList.contains('hidden')) {
                                contentWrapper.classList.remove('hidden');
                                acilSection.classList.add('border-primary');
                                if (icon) icon.classList.add('rotate-180');
                            }
                        }
                    } else if (acilMusaitlikContent) {
                        acilMusaitlikContent.classList.add('hidden');
                    }
                    updateKuryeSectionStatus('acil-musaitlik');
                };
                
                acilMusaitlikCheck.addEventListener('change', function() {
                    toggleAcilMusaitlikSection();
                    updateProfileDisplay();
                    updateAcilMusaitlikMesaj();
                });
                
                toggleAcilMusaitlikSection();
            }
            
            // Acil Müsaitlik ücret tipi checkbox'larının enable/disable
            const acilMusaitlikSaatlikCheck = document.getElementById('acilMusaitlikSaatlikCheck');
            const acilMusaitlikSaatlikInput = document.getElementById('acilMusaitlikSaatlikUcret');
            const acilMusaitlikKmCheck = document.getElementById('acilMusaitlikKmCheck');
            const acilMusaitlikKmInput = document.getElementById('acilMusaitlikKmUcret');
            const acilMusaitlikPaketCheck = document.getElementById('acilMusaitlikPaketCheck');
            const acilMusaitlikPaketInput = document.getElementById('acilMusaitlikPaketUcret');
            
            if (acilMusaitlikSaatlikCheck && acilMusaitlikSaatlikInput) {
                acilMusaitlikSaatlikCheck.addEventListener('change', function() {
                    acilMusaitlikSaatlikInput.disabled = !this.checked;
                    if (!this.checked) acilMusaitlikSaatlikInput.value = '';
                    updateAcilMusaitlikMesaj();
                    updateKuryeSectionStatus('acil-musaitlik');
                });
            }
            
            if (acilMusaitlikKmCheck && acilMusaitlikKmInput) {
                acilMusaitlikKmCheck.addEventListener('change', function() {
                    acilMusaitlikKmInput.disabled = !this.checked;
                    if (!this.checked) acilMusaitlikKmInput.value = '';
                    updateAcilMusaitlikMesaj();
                    updateKuryeSectionStatus('acil-musaitlik');
                });
            }
            
            if (acilMusaitlikPaketCheck && acilMusaitlikPaketInput) {
                acilMusaitlikPaketCheck.addEventListener('change', function() {
                    acilMusaitlikPaketInput.disabled = !this.checked;
                    if (!this.checked) acilMusaitlikPaketInput.value = '';
                    updateAcilMusaitlikMesaj();
                    updateKuryeSectionStatus('acil-musaitlik');
                });
            }
            
            // Acil Müsaitlik ücret input'larının değiştiğinde mesaj güncelle
            if (acilMusaitlikSaatlikInput) acilMusaitlikSaatlikInput.addEventListener('input', function() {
                updateAcilMusaitlikMesaj();
                updateKuryeSectionStatus('acil-musaitlik');
            });
            if (acilMusaitlikKmInput) acilMusaitlikKmInput.addEventListener('input', function() {
                updateAcilMusaitlikMesaj();
                updateKuryeSectionStatus('acil-musaitlik');
            });
            if (acilMusaitlikPaketInput) acilMusaitlikPaketInput.addEventListener('input', function() {
                updateAcilMusaitlikMesaj();
                updateKuryeSectionStatus('acil-musaitlik');
            });
            
            // Acil Müsaitlik ek bilgiler karakter sayacı
            const acilMusaitlikEkBilgiler = document.getElementById('acilMusaitlikEkBilgiler');
            const acilMusaitlikEkBilgilerCount = document.getElementById('acilMusaitlikEkBilgilerCount');
            if (acilMusaitlikEkBilgiler && acilMusaitlikEkBilgilerCount) {
                acilMusaitlikEkBilgiler.addEventListener('input', function() {
                    acilMusaitlikEkBilgilerCount.textContent = this.value.length;
                    updateAcilMusaitlikMesaj();
                });
            }
            
            // Acil Müsaitlik başlangıç ve bitiş saatlerinin değiştiğinde mesaj güncelle
            const acilMusaitlikBaslangicSaati = document.getElementById('acilMusaitlikBaslangicSaati');
            const acilMusaitlikCikisSaati = document.getElementById('acilMusaitlikCikisSaati');
            if (acilMusaitlikBaslangicSaati) acilMusaitlikBaslangicSaati.addEventListener('change', function() {
                updateAcilMusaitlikMesaj();
                updateKuryeSectionStatus('acil-musaitlik');
            });
            if (acilMusaitlikCikisSaati) acilMusaitlikCikisSaati.addEventListener('change', function() {
                updateAcilMusaitlikMesaj();
                updateKuryeSectionStatus('acil-musaitlik');
            });
            
            // Otomatik mesaj oluşturma fonksiyonu
            function updateAcilMusaitlikMesaj() {
                if (!acilMusaitlikCheck || !acilMusaitlikCheck.checked) return;
                
                const mesajParts = [];
                
                // Kurye bilgileri
                const adSoyad = document.getElementById('adSoyad').value || '';
                const sehir = document.getElementById('sehir').value || '';
                
                if (adSoyad) mesajParts.push(adSoyad);
                if (sehir) mesajParts.push(sehir);
                
                // Başlangıç saati
                if (acilMusaitlikBaslangicSaati) {
                    const baslangicSaati = acilMusaitlikBaslangicSaati.value;
                    if (baslangicSaati === 'simdi') {
                        mesajParts.push('şimdi');
                    } else if (baslangicSaati) {
                        mesajParts.push(baslangicSaati);
                    }
                }
                
                // Bitiş saati
                if (acilMusaitlikCikisSaati && acilMusaitlikCikisSaati.value) {
                    mesajParts.push(`- ${acilMusaitlikCikisSaati.value}`);
                }
                
                // Ücret beklentileri
                const ucretParts = [];
                if (acilMusaitlikSaatlikCheck && acilMusaitlikSaatlikCheck.checked && acilMusaitlikSaatlikInput && acilMusaitlikSaatlikInput.value) {
                    ucretParts.push(`Min. ${acilMusaitlikSaatlikInput.value} TL/saat`);
                }
                if (acilMusaitlikKmCheck && acilMusaitlikKmCheck.checked && acilMusaitlikKmInput && acilMusaitlikKmInput.value) {
                    ucretParts.push(`Min. ${acilMusaitlikKmInput.value} TL/km`);
                }
                if (acilMusaitlikPaketCheck && acilMusaitlikPaketCheck.checked && acilMusaitlikPaketInput && acilMusaitlikPaketInput.value) {
                    ucretParts.push(`Min. ${acilMusaitlikPaketInput.value} TL/paket`);
                }
                if (ucretParts.length > 0) {
                    mesajParts.push(ucretParts.join(', '));
                }
                
                // Ek bilgiler
                if (acilMusaitlikEkBilgiler && acilMusaitlikEkBilgiler.value.trim()) {
                    mesajParts.push(acilMusaitlikEkBilgiler.value.trim());
                }
                
                const mesaj = mesajParts.join(' | ');
                const acilMusaitlikOtomatikMesaj = document.getElementById('acilMusaitlikOtomatikMesaj');
                if (acilMusaitlikOtomatikMesaj) {
                    acilMusaitlikOtomatikMesaj.value = mesaj;
                }
            }
            
            // Profil görünümünü güncelle
            function updateProfileDisplay() {
                const adSoyad = document.getElementById('adSoyad').value || 'Ad Soyad';
                const sehir = document.getElementById('sehir').value || 'şehir';
                
                document.getElementById('profileName').textContent = adSoyad;
                document.getElementById('profileCity').textContent = sehir;
                
                // Acil badge'i kaldırıldı (artık sadece Acil Müsaitlik kullanılıyor)
                
                // Ehliyet bilgisini güncelle (checkbox'lar)
                const ehliyetCheckboxes = document.querySelectorAll('input[name="ehliyet"]:checked');
                const ehliyetValues = Array.from(ehliyetCheckboxes).map(cb => cb.value);
                document.getElementById('profileEhliyet').textContent = ehliyetValues.length > 0 ? ehliyetValues.join(', ') : '-';
                
                // Motor bilgisini güncelle (plaka görünürlük kontrolü ile)
                const motorVarmi = document.querySelector('input[name="motorVarmi"]:checked');
                if (motorVarmi && motorVarmi.value === 'evet') {
                    const marka = document.getElementById('motorMarka').value;
                    const model = document.getElementById('motorModel').value;
                    const yil = document.getElementById('motorYil').value;
                    const plaka = document.getElementById('motorPlaka').value;
                    const plakaGorunur = document.getElementById('plakaGorunur') && document.getElementById('plakaGorunur').checked;
                    const motorParts = [];
                    if (marka) motorParts.push(marka);
                    if (model) motorParts.push(model);
                    if (yil) motorParts.push(yil);
                    if (plaka && plakaGorunur) motorParts.push(plaka); // Sadece checkbox işaretliyse plaka göster
                    document.getElementById('profileMotor').textContent = motorParts.length > 0 ? motorParts.join(' ') : 'Var (detay yok)';
                } else {
                    document.getElementById('profileMotor').textContent = motorVarmi && motorVarmi.value === 'hayir' ? 'Yok' : '-';
                }
                
                // Telefon (checkbox kontrolü ile)
                const telefon = document.getElementById('telefon').value;
                const telefonGorunur = document.getElementById('telefonGorunur') && document.getElementById('telefonGorunur').checked;
                const previewTelefonContainer = document.getElementById('previewTelefonContainer');
                if (telefon && telefonGorunur && previewTelefonContainer) {
                    previewTelefonContainer.classList.remove('hidden');
                    document.getElementById('previewTelefon').textContent = telefon;
                } else if (previewTelefonContainer) {
                    previewTelefonContainer.classList.add('hidden');
                }
                
                // WhatsApp (checkbox kontrolü ile)
                const whatsapp = document.getElementById('whatsapp').value;
                const whatsappGorunur = document.getElementById('whatsappGorunur') && document.getElementById('whatsappGorunur').checked;
                const previewWhatsAppContainer = document.getElementById('previewWhatsAppContainer');
                if (whatsapp && whatsappGorunur && previewWhatsAppContainer) {
                    previewWhatsAppContainer.classList.remove('hidden');
                    document.getElementById('previewWhatsApp').textContent = whatsapp;
                } else if (previewWhatsAppContainer) {
                    previewWhatsAppContainer.classList.add('hidden');
                }
                
                const telegramInput = document.getElementById('telegram');
                const telegramValue = telegramInput ? telegramInput.value.trim() : '';
                const telegramGorunur = document.getElementById('telegramGorunur') && document.getElementById('telegramGorunur').checked;
                const previewTelegramContainer = document.getElementById('previewTelegramContainer');
                if (previewTelegramContainer) {
                    if (telegramValue && telegramGorunur) {
                        previewTelegramContainer.classList.remove('hidden');
                        document.getElementById('previewTelegram').textContent = telegramValue;
                    } else {
                        previewTelegramContainer.classList.add('hidden');
                    }
                }
                
                const instagramInput = document.getElementById('instagram');
                const instagramValue = instagramInput ? instagramInput.value.trim() : '';
                const instagramGorunur = document.getElementById('instagramGorunur') && document.getElementById('instagramGorunur').checked;
                const previewInstagramContainer = document.getElementById('previewInstagramContainer');
                if (previewInstagramContainer) {
                    if (instagramValue && instagramGorunur) {
                        previewInstagramContainer.classList.remove('hidden');
                        document.getElementById('previewInstagram').textContent = instagramValue;
                    } else {
                        previewInstagramContainer.classList.add('hidden');
                    }
                }
                
                // Acil Müsaitlik (checkbox kontrolü ile)
                const acilMusaitlikCheck = document.getElementById('acilMusaitlikCheck');
                if (acilMusaitlikCheck && acilMusaitlikCheck.checked) {
                    document.getElementById('profileAcilMusaitlikContainer').classList.remove('hidden');
                } else {
                    document.getElementById('profileAcilMusaitlikContainer').classList.add('hidden');
                }
            }
            
            // Form değişikliklerini dinle
            form.addEventListener('input', updateProfileDisplay);
            form.addEventListener('change', function(e) {
                if (['whatsappGorunur', 'telegramGorunur', 'instagramGorunur'].includes(e.target.id)) {
                    updateKuryeSectionStatus('sosyal-medya');
                }
                if (e.target.name === 'ehliyet' || e.target.name === 'motorVarmi' || 
                    e.target.id === 'motorMarka' || e.target.id === 'motorModel' || 
                    e.target.id === 'motorYil' || e.target.id === 'motorPlaka' ||
                    e.target.id === 'plakaGorunur' || e.target.id === 'telefonGorunur' || 
                    e.target.id === 'whatsappGorunur' || e.target.id === 'telegramGorunur' ||
                    e.target.id === 'instagramGorunur' || e.target.id === 'acilMusaitlikCheck') {
                    updateProfileDisplay();
                }
            });
            
            // Ehliyet checkbox değişikliklerini dinle
            document.querySelectorAll('input[name="ehliyet"]').forEach(cb => {
                cb.addEventListener('change', updateProfileDisplay);
            });
            
            // Motor detayları ve görünürlük input'larının değişikliklerini dinle
            ['motorMarka', 'motorModel', 'motorYil', 'motorPlaka', 'telefon', 'whatsapp', 'telegram', 'instagram'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', updateProfileDisplay);
                }
            });
            
            // Görünürlük checkbox'larının dinlenmesi
            ['plakaGorunur', 'telefonGorunur', 'whatsappGorunur', 'telegramGorunur', 'instagramGorunur', 'acilMusaitlikCheck'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', updateProfileDisplay);
                }
            });
            
            if (acilMusaitlikCheck) {
                acilMusaitlikCheck.checked = false;
            }
            
            updateProfileDisplay();
            updateAllKuryeSectionStatuses();
            
            // Sosyal profiller ve paylaşım işlemleri
            // Hakkümda alanı kaldırıldı.
            
            // Profil paylaş
            document.getElementById('shareProfile').addEventListener('click', function() {
                const profileUrl = window.location.origin + '/kurye-kart.html?id=' + kuryeId;
                if (navigator.share) {
                    navigator.share({
                        title: 'Kurye Profili - ' + document.getElementById('adSoyad').value,
                        text: 'Kurye profilimi görüntüle',
                        url: profileUrl
                    });
                } else {
                    navigator.clipboard.writeText(profileUrl).then(function() {
                        alert('Profil linki kopyalandı!');
                    });
                }
            });
            
            // Halka açık profili görüntüle
            const viewPublicProfile = document.getElementById('viewPublicProfile');
            viewPublicProfile.addEventListener('click', function(e) {
                e.preventDefault();
                // Halka açık profil URL'i (ileride kurye/[id]/public.html olacak)
                const publicProfileUrl = `/kurye/${kuryeId}/public.html`;
                viewPublicProfile.href = publicProfileUrl;
                window.open(publicProfileUrl, '_blank');
            });
            
            // Mobile menu toggle
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            
            if (mobileMenuBtn && mobileMenu) {
                mobileMenuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }
        });
    </script>
</body>
</html>





